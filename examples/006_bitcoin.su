lua.print("\n=== Crypto: Bitcoin Transaction Structure ===")

// Simplified Bitcoin transaction
lua.btc_tx = <<
    1:32/little,           // Version
    2:8,                   // Input count
    // First input (simplified)
    0xFF:32, 0xFF:32,      // Previous tx hash (coinbase)
    0xFFFFFFFF:32/little,  // Output index
    4:8,                   // Script length
    0x01234567:32,         // Script (simplified)
    0xFFFFFFFF:32/little,  // Sequence
    // Output count and data
    1:8,                   // Output count
    5000000000:64/little,  // Amount in satoshis (50 BTC)
    25:8,                  // Script length
    "OP_DUP OP_HASH160":17/binary
>>

match lua.btc_tx {
    <<version:32/little, input_count:8, info:37/binary,
      output_count:8, amount:64/little, rest/binary>> -> {
        norm = amount / 100000000

        lua.print("â‚¿ Bitcoin Transaction:")
        lua.print("  Version:", version)
        lua.print("  Inputs:", input_count)
        lua.print("  Outputs:", output_count)
        lua.print("  Amount:", norm, "BTC")
        lua.print("  Value in USD:", norm * 45000, "$")
    }
}
