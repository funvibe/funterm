lua.print("\n=== File Format: PNG Image Parser ===")

// Real PNG file header
lua.png = <<
    137:8, 80:8, 78:8, 71:8, 13:8, 10:8, 26:8, 10:8,  // PNG signature
    13:32/big,                                          // Chunk length
    "IHDR":4/binary,                                    // Chunk type
    1920:32/big,                                        // Width
    1080:32/big,                                        // Height
    8:8,                                                // Bit depth
    2:8,                                                // Color type (RGB)
    0:8,                                                // Compression
    0:8,                                                // Filter
    0:8                                                 // Interlace
>>

match lua.png {
    <<137:8, "PNG":3/binary, sig:32,
      length:32/big, "IHDR":4/binary,
      width:32/big, height:32/big,
      depth:8, color:8, rest:24>> -> {
        
        lua.print("ðŸ“¸ PNG Image Details:")
        lua.print("  Resolution:", width, "x", height)
        lua.print("  Color Depth:", depth, "bits")
        lua.print("  Color Type:", color == 2 ? "RGB" : color == 6 ? "RGBA" : "Other")
        lua.print("  File Type: âœ“ Valid PNG")
        lua.print("  HD Ready:", width >= 1920 ? "âœ“ Yes" : "âœ— No")
    }
}
