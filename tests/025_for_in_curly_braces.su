// Test new curly brace syntax for Python-style for-in loops
// Old syntax: for item in array: statement
// New syntax: for item in array { ... }

// Test 1: Basic for-in loop with curly braces
numbers = [1, 2, 3]
total = 0
for item in numbers {
    total = total + item
}
lua.print("total:", total)  // Expected: 6

// Test 2: For-in loop with multiple statements
data = ["a", "b", "c"]
result = ""
for item in data {
    result = result + item
    lua.print("processing:", item)
}
lua.print("result:", result)  // Expected: "abc"

// Test 3: For-in loop with qualified variables
py.list = [10, 20, 30]
py.sum = 0
for element in py.list {
    py.sum = py.sum + element
    js.console.log("element:", element)
}
py.print("py.sum:", py.sum)  // Expected: 60

// Test 4: For-in loop with break and continue
items = [1, 2, 3, 4, 5]
count = 0
for item in items {
    if (item == 2) {
        continue
    }
    if (item == 4) {
        break
    }
    count = count + item
    lua.print("counting:", item)
}
lua.print("count:", count)  // Expected: 4 (1 + 3)

// Test 5: Nested for-in loops
matrix = [[1, 2], [3, 4]]
flat_sum = 0
for row in matrix {
    for element in row {
        flat_sum = flat_sum + element
    }
}
lua.print("flat_sum:", flat_sum)  // Expected: 10

// Test 6: For-in loop with language calls
fruits = ["apple", "banana", "cherry"]
for fruit in fruits {
    py.print("Python:", fruit)
    lua.print("Lua:", fruit)
    js.console.log("JS:", fruit)
}

// Test 7: For-in loop with empty array
empty = []
found = false
for item in empty {
    found = true
    lua.print("found:", item)
}
lua.print("found_any:", found)  // Expected: false

// Test 8: For-in loop with array literals
for num in [1, 2, 3, 4] {
    lua.print("num:", num)
}